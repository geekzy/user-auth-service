# Application Configuration
spring.application.name=user-auth-service
server.port=8080

# Database Configuration (MariaDB)
spring.datasource.url=${DATABASE_URL:jdbc:mariadb://localhost:3316/backendb}
spring.datasource.username=${DATABASE_USERNAME:root}
spring.datasource.password=${DATABASE_PASSWORD:passw0rd}
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# HikariCP Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# Security Configuration
app.security.jwt.secret=${JWT_SECRET:your-jwt-secret}
app.security.jwt.expiration=86400000
app.security.password.bcrypt.rounds=12
app.security.rate-limit.max-attempts=5
app.security.rate-limit.window-minutes=15
app.security.account-lock.duration-minutes=30

# Email Configuration
spring.mail.host=smtp-relay.brevo.com
spring.mail.port=587
spring.mail.username=${SMTP_USERNAME:your-smtp-username}
spring.mail.password=${SMTP_PASSWORD:your-smtp-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
app.email.from=${EMAIL_FROM:Your Name <your-email@example.com>}
app.email.auto-verify-on-registration=true

# Session Configuration
app.session.timeout-minutes=30
app.session.extend-on-activity=true
app.session.remember-me-duration-days=30
app.session.cleanup.enabled=true
app.session.cleanup.inactive-threshold-hours=24
app.session.cleanup.deletion-threshold-days=30

# Password Reset Configuration
app.security.password-reset.token-expiration-minutes=60
app.security.password-reset.silent-delay-ms=500
app.password-reset.base-url=http://localhost:8080

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,configprops,beans,mappings
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always
management.endpoint.info.enabled=true
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
management.endpoints.web.base-path=/actuator
management.endpoints.web.cors.allowed-origins=*
management.endpoints.web.cors.allowed-methods=GET,POST

# Micrometer and Prometheus Configuration
management.metrics.export.prometheus.enabled=true
management.metrics.export.prometheus.step=60s
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.95,0.99
management.metrics.distribution.percentiles-histogram.auth.jwt.token.generation.time=true
management.metrics.distribution.percentiles.auth.jwt.token.generation.time=0.5,0.95,0.99
management.metrics.distribution.percentiles-histogram.auth.jwt.token.validation.time=true
management.metrics.distribution.percentiles.auth.jwt.token.validation.time=0.5,0.95,0.99
management.metrics.distribution.percentiles-histogram.auth.user.details.load.time=true
management.metrics.distribution.percentiles.auth.user.details.load.time=0.5,0.95,0.99
management.metrics.distribution.percentiles-histogram.auth.rate.limit.check.time=true
management.metrics.distribution.percentiles.auth.rate.limit.check.time=0.5,0.95,0.99
management.metrics.distribution.percentiles-histogram.auth.database.operation.duration=true
management.metrics.distribution.percentiles.auth.database.operation.duration=0.5,0.95,0.99
management.metrics.tags.application=${spring.application.name}
management.metrics.tags.environment=development

# Custom Metrics Configuration
management.metrics.enable.auth=true
management.metrics.enable.jvm=true
management.metrics.enable.system=true
management.metrics.enable.process=true
management.metrics.enable.hikaricp=true

# Performance Monitoring Configuration
app.performance.monitoring.enabled=true
app.performance.monitoring.log-slow-operations=true
app.performance.monitoring.slow-operation-threshold-ms=1000

# Health Check Configuration
management.health.defaults.enabled=true
management.health.diskspace.enabled=true
management.health.db.enabled=true

# Logging Configuration
logging.level.com.example.userauthentication=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE