# Demo Configuration with H2 Database
spring.application.name=user-auth-service
server.port=8080

# H2 Database Configuration for Demo
spring.datasource.url=jdbc:h2:mem:demoauth;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# H2 Console (for demo purposes)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# HikariCP Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=true

# Disable Flyway for demo
spring.flyway.enabled=false

# Security Configuration
app.security.jwt.secret=mySecretKey123456789012345678901234567890123456789012345678901234567890
app.security.jwt.expiration=86400000
app.security.password.bcrypt.rounds=12
app.security.rate-limit.max-attempts=5
app.security.rate-limit.window-minutes=15
app.security.account-lock.duration-minutes=30

# Session Configuration
app.session.timeout-minutes=30
app.session.extend-on-activity=true
app.session.remember-me-duration-days=30

# Password Reset Configuration
app.password-reset.token-expiration-minutes=60
app.password-reset.base-url=http://localhost:8080

# Actuator Configuration - Enhanced for Demo
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,configprops,beans,mappings
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.endpoint.info.enabled=true
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
management.endpoints.web.base-path=/actuator
management.endpoints.web.cors.allowed-origins=*
management.endpoints.web.cors.allowed-methods=GET,POST

# Micrometer and Prometheus Configuration
management.metrics.export.prometheus.enabled=true
management.metrics.export.prometheus.step=60s
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.95,0.99
management.metrics.tags.application=${spring.application.name}
management.metrics.tags.environment=demo

# Custom Metrics Configuration
management.metrics.enable.auth=true
management.metrics.enable.jvm=true
management.metrics.enable.system=true
management.metrics.enable.process=true
management.metrics.enable.hikaricp=true

# Health Check Configuration
management.health.defaults.enabled=true
management.health.diskspace.enabled=true
management.health.db.enabled=true

# Logging Configuration
logging.level.com.example.userauthentication=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework.boot.actuator=INFO